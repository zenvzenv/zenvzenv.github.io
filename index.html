<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ZENV</title><meta name="author" content="zenv"><meta name="copyright" content="zenv"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="生于忧患，死于安乐">
<meta property="og:type" content="website">
<meta property="og:title" content="ZENV">
<meta property="og:url" content="https://zenvzenv.github.io/index.html">
<meta property="og:site_name" content="ZENV">
<meta property="og:description" content="生于忧患，死于安乐">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.loli.net/2023/03/21/NlfdceVhiuDmWR2.jpg">
<meta property="article:author" content="zenv">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/03/21/NlfdceVhiuDmWR2.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zenvzenv.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ZENV',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-04-25 07:22:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="ZENV" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/03/21/NlfdceVhiuDmWR2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">40</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://s2.loli.net/2023/03/21/gkPvRDzw2Iyluo8.png')"><nav id="nav"><span id="blog-info"><a href="/" title="ZENV"><span class="site-name">ZENV</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ZENV</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/zenvzenv" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zenv3305@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.youtube.com/@ZENVZENV" target="_blank" title="YouTube"><i class="fa-brands fa-youtube"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/04/22/%E3%80%90macOS%E3%80%91%E5%A6%82%E4%BD%95%E5%9C%A8macOS%E4%B8%8A%E4%BD%BF%E7%94%A8whisper%E6%9D%A5%E4%B8%BA%E8%A7%86%E9%A2%91%E6%B7%BB%E5%8A%A0%E5%AD%97%E5%B9%95/" title="【macOS】如何在macOS上使用whisper来为视频添加字幕">【macOS】如何在macOS上使用whisper来为视频添加字幕</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-04-22T14:47:15.000Z" title="Created 2025-04-22 22:47:15">2025-04-22</time></span></div><div class="content">

在这篇文章中我介绍了如何在 Windows 上使用 Subtitle Edit 自动识别视频字幕并生成 srt 字幕文件。
今天我将为大家带来 macOS 系统如何使用 whisper 大模型来为视频自动识别字幕。
安装 anaconda （推荐）推荐使用 anaconda 来作为 python 的包管理工具。conda 是一个开源的跨平台包管理器和环境管理器，可用于管理 Python 和非 Python 包，例如 C&#x2F;C++ 编译库等。

此处以苹果 M4 芯片为例，其余芯片的安装步骤请参阅 Installing Anaconda Distribution


打开终端并运行以下命令之一（取决于您的 macOS 架构）来下载安装程序：
 curl -O https://repo.anaconda.com/archive/Anaconda3-2024.10-1-MacOSX-arm64.sh

（推荐）验证安装程序的完整性，以确保其在下载过程中未被损坏或篡改。
 为确保您下载的安装程序未被篡改或损坏，请生成其 SHA-256 哈希值并将其与档案中提供的官方哈希值进行比较。 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/04/13/%E3%80%90macOS%E3%80%91macOS%E4%B8%8A%E9%80%9A%E8%BF%87UTM%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEmacOS%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="【macOS】macOS上通过UTM安装并配置macOS虚拟机">【macOS】macOS上通过UTM安装并配置macOS虚拟机</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-04-13T02:50:00.000Z" title="Created 2025-04-13 10:50:00">2025-04-13</time></span></div><div class="content">

一、 安装 UTMUTM 现在已经上架了苹果的 App Store，但在 App Store 中是收费的，而 UTM 本身是开源软件，因此我们推荐从官网下载免费版本。
前往 UTM 官网 或者 UTM GitHub 发布页面 下载最新的安装包。
安装包下载完毕之后，我们可以双击进行安装，将 UTM 拖入 Applications 即可完成安装。
二、 安装 macOSUTM 安装完毕之后，就可以着手安装 macOS 虚拟机了。
由于 UTM 自己的虚拟机库中并没有现成的 macOS 虚拟机，那么就需要我们自己手动进行安装。
我们可以点击创建虚拟机



UTM 支持自己选择 IPSW 来指定虚拟机的 macOS 版本，你可以去 ipsw.me 下载你需要的 IPSW 版本；当然你也可以不指定 IPSW 文件，让 UTM 自动下载最新的 macOS 发行版进行安装。

补充说明：IPSW 是苹果系统的发布形态，可以理解为 Windows 的 ISO 文件。如果不手动指定  macOS 系统的话，那么 UTM 会下载最新版 macOS 系统，此时需要注意宿主机的 macOS 版本号与最 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/04/05/%E3%80%90%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E5%9C%A8macOS%E4%B8%8A%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%B9%B6%E9%80%9A%E8%BF%87OpenWebUI%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE/" title="【保姆级教程】在 macOS 上本地部署大模型并通过 OpenWebUI 进行访问">【保姆级教程】在 macOS 上本地部署大模型并通过 OpenWebUI 进行访问</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-04-05T05:53:15.000Z" title="Created 2025-04-05 13:53:15">2025-04-05</time></span></div><div class="content">前言在之前已经写过一份 Windows 部署 DeepSeek-R1 的博客了，但我那台陪我8年的 Windows 老伙计笔记本已经英勇牺牲了，正好乘着国补和教育补贴拿下 32G 内存、256G 硬盘的 Mac mini，也算是鸟枪换炮了。
这就导致了我之前部署的 DeepSeek 环境也用不了了，这不又来折腾 macOS 的 DeepSeek 的大模型环境
在本教程中，我们将手把手教你如何在 macOS 上部署 DeepSeek-R1 大模型，并通过 OpenWebUI 进行访问。本教程适合零基础用户，确保每一步都清晰可操作。
环境准备安装 Ollama
首先访问 Ollama 官网 来下载 Ollama 安装包

Ollama 官方 GitHub 源代码仓库:https://github.com/ollama/ollama

 
 

等待 Ollama 下载完成，待 Ollama 下载完毕之后双击打开压缩包解压出 Ollama 的安装文件
 

双击 Ollama 安装文件进行安装
 
 
 
 
 
 

验证是否安装成功，在终端输入 ollama --version 如果能正 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/03/05/%E5%89%AA%E6%98%A0%E5%AD%97%E5%B9%95%E5%8A%9F%E8%83%BD%E6%94%B6%E8%B4%B9%EF%BC%9FSubtitle-Edit%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E8%A7%86%E9%A2%91%E5%AD%97%E5%B9%95%E5%8F%AF%E8%A7%A3%E5%90%9B%E6%84%81%EF%BC%81/" title="剪映字幕功能收费？Subtitle Edit自动识别视频字幕可解君愁！">剪映字幕功能收费？Subtitle Edit自动识别视频字幕可解君愁！</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-03-05T14:13:04.000Z" title="Created 2025-03-05 22:13:04">2025-03-05</time></span></div><div class="content">

众所周知，剪映高版本的自动识别视频字幕的功能变成收费的了，在之前的版本中，虽然是收费的但是还是有白嫖的途径，比如在识别完字幕后预览全屏视频全屏播放然后使用录屏软件进行录制；或者找到视频的临时存放目录，找到字幕的 json 文件，在网上找到转义工具也是能白嫖的，但现在这些方式全部失效。
接下来就为大家介绍本地使用 Subtitle Edit 使用 Whisper 来自动识别视频字幕，本地部署大模型识别视频字幕，隐私更好，可定制性更高。
Subtitle Edit 安装Subtitle Edit 是一款开源的字幕编辑器软件，可以利用大模型来帮我我们识别视频中的语音并自动识别成 srt 字幕文件
我们先去 Subtitle Edit 下载页面 下载软件，Subtitle Edit 支持 Windows 和 Linux，我本地是 Windows 系统，我选择下载 SubtitleEdit-4.0.11-Setup.zip 安装包。
下载完毕之后，解压出安装程序，双击安装包进行安装。此时 Windows 会弹框提示无法识别 Subtitle Edit 软件，这个可以忽略，点击更多信息后再点击 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/02/15/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82%E5%9F%BA%E4%BA%8EWindows%E6%90%AD%E5%BB%BAOllama-Docker-OpenWebUI-DeepSeek-R1%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%8E%AF%E5%A2%83/" title="一文看懂基于Windows搭建Ollama+Docker+OpenWebUI+DeepSeek-R1大模型环境">一文看懂基于Windows搭建Ollama+Docker+OpenWebUI+DeepSeek-R1大模型环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-02-15T08:48:02.000Z" title="Created 2025-02-15 16:48:02">2025-02-15</time></span></div><div class="content">

本文主要介绍如何在 Windows 环境安装 Ollama 环境，并在 Ollama 环境中部署 DeepSeek 大模型，最终可以在 web ui 中进行访问模型并使用。
安装与配置 Ollama安装 Ollama
访问 Ollama 官网下载

Ollama 官方 GitHub 源代码仓库:https://github.com/ollama/ollama

 
 

等待 Ollama 下载完成并双击打开下载的文件 OllamaSetup.exe，出现如下弹框，点击 Install 等待下载完成即可
 

安装完成后，可以看到 Ollama 已经默认自动运行中。可以通过底部的导航栏找到 Ollama 标志。右键 Ollama 图标可以查看运行日志和退出 Ollama。
 


配置 Ollama
Ollama可以像其他软件一样在电脑上完成一键安装，不同的是，建议按照实际需求配置下系统环境变量参数。以下是 Ollama 的环境变量配置说明。




参数
标识与配置



OLLAMA_MODELS
表示模型文件的存放目录，默认目录为当前用户目录即  C:\Users%usern ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/02/08/%E3%80%90ComfyUI%E3%80%91ComfyUI%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A1%EF%BC%9AComfyUI%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%E5%8F%8A%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/" title="【ComfyUI】ComfyUI从入门到精通1：ComfyUI安装部署及常用配置">【ComfyUI】ComfyUI从入门到精通1：ComfyUI安装部署及常用配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-02-08T06:00:56.000Z" title="Created 2025-02-08 14:00:56">2025-02-08</time></span></div><div class="content">概述本文主要介绍 ComfyUI 的本地(Windows系统)安装部署，ComfyUI 的一些目录作用介绍，以及一些常用插件的安装方法
安装 ComfyUI下载安装包首先需要去 ComfyUI 的 GitHub 的发布页面 下载 ComfyUI 的压缩包(ComfyUI_windows_portable_nvidia.7z)。可以选择历史版本下载或者下载最新发布版本，推荐下载最新的发布版本。
ComfyUI 官方只提供 Windows 系统 + Nvidia 显卡的二进制压缩包，如果你是 Linux 系统或者是 AMD 显卡的话，需要参照 ComfyUI 的官方 readme 文档安装。
安装部署 ComfyUI安装其实很简单，只需要解压 ComfyUI_windows_portable_nvidia.7z 压缩包即可。
解压完之后，目录结构如下所示：
ComfyUI/python_embeded/README_VERY_IMPORTANT.txtrun_cpu.batrun_nvidia_gpu.batupdate/


ComfyUI 目录为 ComfyUI 的主程序，所有的 Ch ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/03/%E4%BB%8E-RPM-%E4%B8%AD%E5%8F%8D%E5%90%91%E6%8F%90%E5%8F%96-SPEC-%E6%96%87%E4%BB%B6/" title="从 RPM 中反向提取 SPEC 文件">从 RPM 中反向提取 SPEC 文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-03T01:41:08.000Z" title="Created 2023-11-03 09:41:08">2023-11-03</time></span></div><div class="content">
本文主要介绍使用 rpmrebuild 工具来反向提取 spec 文件

安装 rpmrebuild 工具yum install -y epel-release centos-releaseyum install -y rpm-build rpmrebuild rpm cpio

从 RPM 包中提取 SPEC 文件这里以 minio 为例
rpmrebuild --package --notest-install --spec-only=minio.spec minio-20231101183725.0.0.x86_64.rpm

其中 --spec-only 是最终 spec 文件的名称
附录：帮助手册 rpmrebuild --helprpmrebuild is a tool to rebuild an rpm file from the rpm databaseUsage: rpmrebuild [options] packageoptions:   -5  --md5-compat-digest      use rpm 4.4 compatible digest (md5 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/05/10/CentOS7-ARM64-%E7%BC%96%E8%AF%91-Clickhouse-%E8%AE%B0%E5%BD%95/" title="CentOS7(ARM64) 编译 Clickhouse 记录">CentOS7(ARM64) 编译 Clickhouse 记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-10T16:00:00.000Z" title="Created 2023-05-11 00:00:00">2023-05-11</time></span></div><div class="content">
本文基于 CentOS7 (3.10.0-693.el7.x86_64 GNU&#x2F;Linux)
本文基于 ClickHouse-v23.3.2.37-lts

准备工作
需要 cmake 3.20 or newer
需要 clang 15.0 or newer
需要 lld 15 or newer
需要 Ninja
需要 Yasm
需要 Gawk
需要 arm 交叉编译环境

安装必要工具# add extra reposyum -y install epel-release centos-release-scl centos-release-scl-rh# installing needed libsyum -y install readline-devel unixODBC-devel openssl-devel libicu-devel libtool-ltdl-devel openssl-devel scl-utils# installing build toolsyum -y install git devtoolset-9 tar wget rh-python36 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/05/04/CentOS7-X86-64-%E7%BC%96%E8%AF%91-ClickHouse-%E8%AE%B0%E5%BD%95/" title="CentOS7(X86_64) 编译 ClickHouse 记录">CentOS7(X86_64) 编译 ClickHouse 记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-04T07:56:55.000Z" title="Created 2023-05-04 15:56:55">2023-05-04</time></span></div><div class="content">
本文基于 CentOS7 (3.10.0-693.el7.x86_64 GNU&#x2F;Linux)
本文基于 ClickHouse-v23.3.2.37-lts

准备工作
需要 cmake 3.20 or newer
需要 clang 15.0 or newer
需要 lld 15 or newer
需要 Ninja
需要 Yasm
需要 Gawk

安装必要工具# add extra reposyum -y install epel-release centos-release-scl centos-release-scl-rh# installing needed libsyum -y install readline-devel unixODBC-devel openssl-devel libicu-devel libtool-ltdl-devel openssl-devel scl-utils# installing build toolsyum -y install git devtoolset-9 tar wget rh-python36yum -y install ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/04/20/%E6%B5%85%E8%B0%88%E6%B5%81%E6%B0%B4%E7%BA%BF-pipleline-%E6%A8%A1%E5%BC%8F/" title="浅谈流水线(pipleline)模式">浅谈流水线(pipleline)模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-04-20T11:19:12.000Z" title="Created 2023-04-20 19:19:12">2023-04-20</time></span></div><div class="content">
本文基于 Java
本文基于 slot

流水线模式是我个人最喜欢的设计模式，它可以帮我把复杂问题简单化，让复杂的流程变得更清晰易懂。
在诸多的优秀的开源项目中都能看到它的身影(如：Netty,Kafka)，我觉得这个模式还是值得学习下的。
网上的 Pipeline 实现各异，这篇文章也只是我个人的一个实现思路，为各位读者抛砖引玉，拓展思路。
基本概念与实现Pipeline 有三个基本的概念，分别是：Pipeline,Valve,Context，他们的关系大致如下所示：
+-------------------------------------------------------------------------------+|   Pipeline                                                                    ||    +-----------+     +-----------+      +-----------+        +-----------+    ||    |           | ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/03/21/NlfdceVhiuDmWR2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zenv</div><div class="author-info__description">生于忧患，死于安乐</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">40</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zenvzenv"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zenvzenv" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zenv3305@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.youtube.com/@ZENVZENV" target="_blank" title="YouTube"><i class="fa-brands fa-youtube"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/22/%E3%80%90macOS%E3%80%91%E5%A6%82%E4%BD%95%E5%9C%A8macOS%E4%B8%8A%E4%BD%BF%E7%94%A8whisper%E6%9D%A5%E4%B8%BA%E8%A7%86%E9%A2%91%E6%B7%BB%E5%8A%A0%E5%AD%97%E5%B9%95/" title="【macOS】如何在macOS上使用whisper来为视频添加字幕">【macOS】如何在macOS上使用whisper来为视频添加字幕</a><time datetime="2025-04-22T14:47:15.000Z" title="Created 2025-04-22 22:47:15">2025-04-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/13/%E3%80%90macOS%E3%80%91macOS%E4%B8%8A%E9%80%9A%E8%BF%87UTM%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEmacOS%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="【macOS】macOS上通过UTM安装并配置macOS虚拟机">【macOS】macOS上通过UTM安装并配置macOS虚拟机</a><time datetime="2025-04-13T02:50:00.000Z" title="Created 2025-04-13 10:50:00">2025-04-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/05/%E3%80%90%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B%E3%80%91%E5%9C%A8macOS%E4%B8%8A%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%B9%B6%E9%80%9A%E8%BF%87OpenWebUI%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE/" title="【保姆级教程】在 macOS 上本地部署大模型并通过 OpenWebUI 进行访问">【保姆级教程】在 macOS 上本地部署大模型并通过 OpenWebUI 进行访问</a><time datetime="2025-04-05T05:53:15.000Z" title="Created 2025-04-05 13:53:15">2025-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/05/%E5%89%AA%E6%98%A0%E5%AD%97%E5%B9%95%E5%8A%9F%E8%83%BD%E6%94%B6%E8%B4%B9%EF%BC%9FSubtitle-Edit%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E8%A7%86%E9%A2%91%E5%AD%97%E5%B9%95%E5%8F%AF%E8%A7%A3%E5%90%9B%E6%84%81%EF%BC%81/" title="剪映字幕功能收费？Subtitle Edit自动识别视频字幕可解君愁！">剪映字幕功能收费？Subtitle Edit自动识别视频字幕可解君愁！</a><time datetime="2025-03-05T14:13:04.000Z" title="Created 2025-03-05 22:13:04">2025-03-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/15/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82%E5%9F%BA%E4%BA%8EWindows%E6%90%AD%E5%BB%BAOllama-Docker-OpenWebUI-DeepSeek-R1%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%8E%AF%E5%A2%83/" title="一文看懂基于Windows搭建Ollama+Docker+OpenWebUI+DeepSeek-R1大模型环境">一文看懂基于Windows搭建Ollama+Docker+OpenWebUI+DeepSeek-R1大模型环境</a><time datetime="2025-02-15T08:48:02.000Z" title="Created 2025-02-15 16:48:02">2025-02-15</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/Clickhouse/" style="font-size: 1.23em; color: #999ea6">Clickhouse</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.1em; color: #999">虚拟机</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size: 1.1em; color: #999">教程</a> <a href="/tags/x86-arm-corss/" style="font-size: 1.1em; color: #999">x86_arm_corss</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.1em; color: #999">设计模式</a> <a href="/tags/auth/" style="font-size: 1.1em; color: #999">auth</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size: 1.1em; color: #999">经验</a> <a href="/tags/%E5%89%AA%E6%98%A0/" style="font-size: 1.23em; color: #999ea6">剪映</a> <a href="/tags/%E5%9B%BE%E7%89%87%E7%94%9F%E6%88%90/" style="font-size: 1.1em; color: #999">图片生成</a> <a href="/tags/deepseek/" style="font-size: 1.23em; color: #999ea6">deepseek</a> <a href="/tags/%E5%8F%8D%E5%90%91%E6%8F%90%E5%8F%96/" style="font-size: 1.1em; color: #999">反向提取</a> <a href="/tags/ollama/" style="font-size: 1.23em; color: #999ea6">ollama</a> <a href="/tags/Apache-Livy/" style="font-size: 1.1em; color: #999">Apache Livy</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 1.5em; color: #99a9bf">大模型</a> <a href="/tags/slot/" style="font-size: 1.1em; color: #999">slot</a> <a href="/tags/ComfyUI/" style="font-size: 1.1em; color: #999">ComfyUI</a> <a href="/tags/kali-linux/" style="font-size: 1.1em; color: #999">kali linux</a> <a href="/tags/AI/" style="font-size: 1.1em; color: #999">AI</a> <a href="/tags/pipeline/" style="font-size: 1.1em; color: #999">pipeline</a> <a href="/tags/macOS-%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.1em; color: #999">macOS 虚拟机</a> <a href="/tags/whisper/" style="font-size: 1.1em; color: #999">whisper</a> <a href="/tags/SPEC/" style="font-size: 1.1em; color: #999">SPEC</a> <a href="/tags/%E5%9F%8B%E7%82%B9/" style="font-size: 1.23em; color: #999ea6">埋点</a> <a href="/tags/RPM/" style="font-size: 1.1em; color: #999">RPM</a> <a href="/tags/WiFi%E6%B8%97%E9%80%8F/" style="font-size: 1.1em; color: #999">WiFi渗透</a> <a href="/tags/Subtitle-Edit/" style="font-size: 1.1em; color: #999">Subtitle Edit</a> <a href="/tags/macOS/" style="font-size: 1.37em; color: #99a4b2">macOS</a> <a href="/tags/hdfs/" style="font-size: 1.1em; color: #999">hdfs</a> <a href="/tags/java/" style="font-size: 1.1em; color: #999">java</a> <a href="/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" style="font-size: 1.1em; color: #999">链路追踪</a> <a href="/tags/Apache-Spark/" style="font-size: 1.1em; color: #999">Apache Spark</a> <a href="/tags/hadoop/" style="font-size: 1.1em; color: #999">hadoop</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size: 1.1em; color: #999">网络安全</a> <a href="/tags/%E8%AE%B0%E5%BD%95/" style="font-size: 1.23em; color: #999ea6">记录</a> <a href="/tags/%E5%AD%97%E5%B9%95/" style="font-size: 1.23em; color: #999ea6">字幕</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 1.23em; color: #999ea6">编译</a> <a href="/tags/UTM/" style="font-size: 1.1em; color: #999">UTM</a> <a href="/tags/Java-%E5%A4%9C%E8%AF%9D/" style="font-size: 1.1em; color: #999">Java 夜话</a> <a href="/tags/javaagent/" style="font-size: 1.1em; color: #999">javaagent</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">April 2025</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">March 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">February 2025</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">November 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">March 2023</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">17</div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">25k</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-04-24T23:22:06.618Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By zenv</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["不做人民，做自己","我的技术是个独生子，无姐又无弟","请往前走，不要在此停留"])
  } else {
    document.getElementById("subtitle").innerHTML = '不做人民，做自己'
  }
}
typedJSFn.run(subtitleType)</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>